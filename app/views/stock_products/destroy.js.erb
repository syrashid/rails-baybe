function removeElement () {
  const product = document.getElementById("stock-product-<%= @stockproduct.id %>");
  const number = document.getElementById("cart-number");
  const savings = document.getElementById("savings");
  const total_price = document.getElementById("total-price");

  // Update cart item number
  number.innerHTML = "(<%= current_user.current_cart.stock_products.count %>)";

  // Update total cart price
  <% stockproducts = current_user.current_cart.stock_products %>
  <% new_price = stockproducts.sum do |stockproduct| %>
    <% stockproduct.product.price * stockproduct.condition.buy_ratio %>
  <% end %>
  total_price.innerHTML = "<%= humanized_money(new_price) %> EUR"

  // Update total cart savings
  <% savings = stockproducts.sum do |stockproduct| %>
    <% ((1 - stockproduct.condition.buy_ratio) * stockproduct.product.price) %>
  <% end %>
  savings.innerHTML = "saving (<%= humanized_money(savings.round(2)) %> EUR) "

  // Sweet alert removal notification
  var toast = SwalTwo.mixin({
    toast: true,
    position: 'bottom-end',
    showConfirmButton: false,
    timer: 4000
  })
  toast.fire({
    type: 'error',
    title: '<%=@stockproduct.product.name%> removed'
  })

  product.remove();

  // Update current count in localstorage
  var currentcount = '<%= current_user.current_cart.stock_products.count %>'
  localStorage.setItem("alert", currentcount);
}

removeElement();
